(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d0ee9b1e"],{"0d7a":function(t,e,n){"use strict";var a=n("b2a2"),r=n("8a1c"),i=n("857c"),o=n("2732"),s=n("ef4c"),l=n("38eb"),c=n("d88d"),u=n("59da"),d=n("5139"),f=n("efe2"),g=[].push,p=Math.min,v=4294967295,h=!f((function(){return!RegExp(v,"y")}));a("split",2,(function(t,e,n){var a;return a="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,n){var a=String(o(this)),i=void 0===n?v:n>>>0;if(0===i)return[];if(void 0===t)return[a];if(!r(t))return e.call(a,t,i);var s,l,c,u=[],f=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),p=0,h=new RegExp(t.source,f+"g");while(s=d.call(h,a)){if(l=h.lastIndex,l>p&&(u.push(a.slice(p,s.index)),s.length>1&&s.index<a.length&&g.apply(u,s.slice(1)),c=s[0].length,p=l,u.length>=i))break;h.lastIndex===s.index&&h.lastIndex++}return p===a.length?!c&&h.test("")||u.push(""):u.push(a.slice(p)),u.length>i?u.slice(0,i):u}:"0".split(void 0,0).length?function(t,n){return void 0===t&&0===n?[]:e.call(this,t,n)}:e,[function(e,n){var r=o(this),i=void 0==e?void 0:e[t];return void 0!==i?i.call(e,r,n):a.call(String(r),e,n)},function(t,r){var o=n(a,t,this,r,a!==e);if(o.done)return o.value;var d=i(t),f=String(this),g=s(d,RegExp),m=d.unicode,x=(d.ignoreCase?"i":"")+(d.multiline?"m":"")+(d.unicode?"u":"")+(h?"y":"g"),w=new g(h?d:"^(?:"+d.source+")",x),k=void 0===r?v:r>>>0;if(0===k)return[];if(0===f.length)return null===u(w,f)?[f]:[];var b=0,y=0,I=[];while(y<f.length){w.lastIndex=h?y:0;var $,C=u(w,h?f:f.slice(y));if(null===C||($=p(c(w.lastIndex+(h?0:y)),f.length))===b)y=l(f,y,m);else{if(I.push(f.slice(b,y)),I.length===k)return I;for(var E=1;E<=C.length-1;E++)if(I.push(C[E]),I.length===k)return I;y=b=$}}return I.push(f.slice(b)),I}]}),!h)},"13c1":function(t,e,n){"use strict";function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}n.d(e,"a",(function(){return a}))},"22ef":function(t,e,n){"use strict";var a=n("efe2");function r(t,e){return RegExp(t,e)}e.UNSUPPORTED_Y=a((function(){var t=r("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),e.BROKEN_CARET=a((function(){var t=r("^r","gy");return t.lastIndex=2,null!=t.exec("str")}))},"38eb":function(t,e,n){"use strict";var a=n("f62c").charAt;t.exports=function(t,e,n){return e+(n?a(t,e).length:1)}},5139:function(t,e,n){"use strict";var a=n("99ad"),r=n("22ef"),i=RegExp.prototype.exec,o=String.prototype.replace,s=i,l=function(){var t=/a/,e=/b*/g;return i.call(t,"a"),i.call(e,"a"),0!==t.lastIndex||0!==e.lastIndex}(),c=r.UNSUPPORTED_Y||r.BROKEN_CARET,u=void 0!==/()??/.exec("")[1],d=l||u||c;d&&(s=function(t){var e,n,r,s,d=this,f=c&&d.sticky,g=a.call(d),p=d.source,v=0,h=t;return f&&(g=g.replace("y",""),-1===g.indexOf("g")&&(g+="g"),h=String(t).slice(d.lastIndex),d.lastIndex>0&&(!d.multiline||d.multiline&&"\n"!==t[d.lastIndex-1])&&(p="(?: "+p+")",h=" "+h,v++),n=new RegExp("^(?:"+p+")",g)),u&&(n=new RegExp("^"+p+"$(?!\\s)",g)),l&&(e=d.lastIndex),r=i.call(f?n:d,h),f?r?(r.input=r.input.slice(v),r[0]=r[0].slice(v),r.index=d.lastIndex,d.lastIndex+=r[0].length):d.lastIndex=0:l&&r&&(d.lastIndex=d.global?r.index+r[0].length:e),u&&r&&r.length>1&&o.call(r[0],n,(function(){for(s=1;s<arguments.length-2;s++)void 0===arguments[s]&&(r[s]=void 0)})),r}),t.exports=s},"59da":function(t,e,n){var a=n("2118"),r=n("5139");t.exports=function(t,e){var n=t.exec;if("function"===typeof n){var i=n.call(t,e);if("object"!==typeof i)throw TypeError("RegExp exec method returned something other than an Object or null");return i}if("RegExp"!==a(t))throw TypeError("RegExp#exec called on incompatible receiver");return r.call(t,e)}},"5e9f":function(t,e,n){"use strict";var a=n("b2a2"),r=n("857c"),i=n("3553"),o=n("d88d"),s=n("3da3"),l=n("2732"),c=n("38eb"),u=n("59da"),d=Math.max,f=Math.min,g=Math.floor,p=/\$([$&'`]|\d\d?|<[^>]*>)/g,v=/\$([$&'`]|\d\d?)/g,h=function(t){return void 0===t?t:String(t)};a("replace",2,(function(t,e,n,a){var m=a.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,x=a.REPLACE_KEEPS_$0,w=m?"$":"$0";return[function(n,a){var r=l(this),i=void 0==n?void 0:n[t];return void 0!==i?i.call(n,r,a):e.call(String(r),n,a)},function(t,a){if(!m&&x||"string"===typeof a&&-1===a.indexOf(w)){var i=n(e,t,this,a);if(i.done)return i.value}var l=r(t),g=String(this),p="function"===typeof a;p||(a=String(a));var v=l.global;if(v){var b=l.unicode;l.lastIndex=0}var y=[];while(1){var I=u(l,g);if(null===I)break;if(y.push(I),!v)break;var $=String(I[0]);""===$&&(l.lastIndex=c(g,o(l.lastIndex),b))}for(var C="",E=0,S=0;S<y.length;S++){I=y[S];for(var _=String(I[0]),P=d(f(s(I.index),g.length),0),R=[],A=1;A<I.length;A++)R.push(h(I[A]));var T=I.groups;if(p){var N=[_].concat(R,P,g);void 0!==T&&N.push(T);var U=String(a.apply(void 0,N))}else U=k(_,g,P,R,T,a);P>=E&&(C+=g.slice(E,P)+U,E=P+_.length)}return C+g.slice(E)}];function k(t,n,a,r,o,s){var l=a+t.length,c=r.length,u=v;return void 0!==o&&(o=i(o),u=p),e.call(s,u,(function(e,i){var s;switch(i.charAt(0)){case"$":return"$";case"&":return t;case"`":return n.slice(0,a);case"'":return n.slice(l);case"<":s=o[i.slice(1,-1)];break;default:var u=+i;if(0===u)return e;if(u>c){var d=g(u/10);return 0===d?e:d<=c?void 0===r[d-1]?i.charAt(1):r[d-1]+i.charAt(1):e}s=r[u-1]}return void 0===s?"":s}))}}))},"77be":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"account"},[n("van-nav-bar",{attrs:{title:"账号管理","left-arrow":""},on:{"click-left":t.back}}),n("van-cell-group",[n("van-cell",{staticClass:"v-cell",attrs:{title:"头像"}},[n("div",{staticClass:"clearfix"},[n("div",{staticClass:"fr user-img"},[n("img",{staticClass:"auto-img",attrs:{src:t.userInfo.userImg,alt:""}}),n("van-uploader",{staticClass:"upload-box",attrs:{"after-read":t.uploadFile}})],1)])]),n("van-cell",{staticClass:"v-cell",attrs:{title:"用户id",value:t.userInfo.userId}}),n("van-cell",{staticClass:"v-cell",attrs:{title:"手机号",value:t.userInfo.phone}}),n("van-cell",{staticClass:"v-cell",attrs:{title:"昵称"}},[n("div",{staticClass:"clearfix"},[n("div",{staticClass:"fr"},[n("van-field",{staticClass:"v-filed",attrs:{"input-align":"right"},on:{blur:function(e){return t.updateUserInfo({key:"nickName",value:t.userInfo.nickName,url:"http://www.kangliuyong.com:10002/updateNickName"})}},model:{value:t.userInfo.nickName,callback:function(e){t.$set(t.userInfo,"nickName",e)},expression:"userInfo.nickName"}})],1)])]),n("van-cell",[n("div",{staticClass:"clearfix"},[n("div",{staticClass:"fl v-cell-text"},[t._v("简介")]),n("div",{staticClass:"fl v-cell-textarea"},[n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.userInfo.desc,expression:"userInfo.desc"}],staticClass:"textarea",attrs:{maxlength:"15"},domProps:{value:t.userInfo.desc},on:{change:function(e){return t.updateUserInfo({key:"desc",value:t.userInfo.desc,url:"http://www.kangliuyong.com:10002/updateDesc"})},input:function(e){e.target.composing||t.$set(t.userInfo,"desc",e.target.value)}}}),n("div",{staticClass:"textarea_length"},[t._v(" "+t._s(t.num)+"/15 ")])])])])],1),n("div",{staticClass:"list-box"},[n("van-cell-group",[n("van-cell",{attrs:{title:"修改密码","is-link":""},on:{click:t.openPopup},scopedSlots:t._u([{key:"right-icon",fn:function(){return[n("i",{staticClass:"fa fa-chevron-right",attrs:{"aria-hidden":"true"}})]},proxy:!0}])}),n("van-cell",{attrs:{title:"注销账号","is-link":""},on:{click:t.destroy},scopedSlots:t._u([{key:"right-icon",fn:function(){return[n("i",{staticClass:"fa fa-chevron-right",attrs:{"aria-hidden":"true"}})]},proxy:!0}])})],1)],1),n("div",{staticClass:"logout"},[n("van-button",{attrs:{color:"#ff4f18",block:!0,type:"danger"},on:{click:t.logout}},[t._v("退出登录")])],1),n("van-popup",{attrs:{position:"bottom"},model:{value:t.isOpen,callback:function(e){t.isOpen=e},expression:"isOpen"}},[n("div",{staticClass:"v-popup"},[n("van-form",{on:{submit:t.commit}},[n("van-field",{attrs:{label:"旧密码",placeholder:"旧密码"},model:{value:t.pwds.oldPassword,callback:function(e){t.$set(t.pwds,"oldPassword",e)},expression:"pwds.oldPassword"}}),n("van-field",{attrs:{type:"text",label:"新密码",placeholder:"新密码"},model:{value:t.pwds.password,callback:function(e){t.$set(t.pwds,"password",e)},expression:"pwds.password"}}),n("div",{staticClass:"btn-box"},[n("van-button",{attrs:{block:"",type:"info",color:"#ff4f18","native-type":"submit"}},[t._v("提交")])],1)],1)],1)])],1)},r=[],i=(n("e35a"),n("5e9f"),n("0d7a"),n("13c1")),o=(n("80f1"),n("e3a8")),s={data:function(){return{userInfo:{},isOpen:!1,pwds:{oldPassword:"",password:""},num:""}},updated:function(){this.num=this.userInfo.desc.length},created:function(){this.getUserInfo()},methods:{getUserInfo:function(){var t=this,e=localStorage.getItem("__Tk");this.$toast.loading({message:"加载中...",forbidClick:!0,duration:0}),this.axios({method:"GET",url:"http://www.kangliuyong.com:10002/findAccountInfo",params:{appkey:"U2FsdGVkX19WSQ59Cg+Fj9jNZPxRC5y0xB1iV06BeNA=",tokenString:e}}).then((function(e){t.$toast.clear(),"B001"==e.data.code&&(t.userInfo=e.data.result[0])})).catch((function(e){t.$toast.clear()}))},uploadFile:function(t){var e=this,n=t.content.replace(/^data:image\/[A-Za-z]+;base64,/,""),a=t.file.type.split("/")[1],r=localStorage.getItem("__Tk");this.$toast.loading({message:"加载中...",forbidClick:!0,duration:0}),this.axios({method:"POST",url:"http://www.kangliuyong.com:10002/updateAvatar",data:{appkey:"U2FsdGVkX19WSQ59Cg+Fj9jNZPxRC5y0xB1iV06BeNA=",tokenString:r,imgType:a,serverBase64Img:n}}).then((function(t){e.$toast.clear(),"H001"==t.data.code?e.userInfo.userImg=t.data.userImg:e.$toast(t.data.msg)})).catch((function(t){e.$toast.clear()}))},updateUserInfo:function(t){var e=this,n=localStorage.getItem("__Tk");this.$toast.loading({message:"加载中...",forbidClick:!0,duration:0}),this.axios({method:"POST",url:t.url,data:Object(i["a"])({appkey:"U2FsdGVkX19WSQ59Cg+Fj9jNZPxRC5y0xB1iV06BeNA=",tokenString:n},t.key,t.value)}).then((function(t){e.$toast.clear()})).catch((function(t){e.$toast.clear()}))},openPopup:function(){this.isOpen=!0},commit:function(){var t=this;if(o["a"].validUserForm(this.pwds)){var e=localStorage.getItem("__Tk");this.$toast.loading({message:"加载中...",forbidClick:!0,duration:0}),this.axios({method:"POST",url:"http://www.kangliuyong.com:10002/updatePassword",data:{appkey:"U2FsdGVkX19WSQ59Cg+Fj9jNZPxRC5y0xB1iV06BeNA=",tokenString:e,password:this.pwds.password,oldPassword:this.pwds.oldPassword}}).then((function(e){t.$toast.clear(),t.isOpen=!1,"E001"==e.data.code?(localStorage.removeItem("__Tk"),t.$router.push({name:"Login"})):t.$toast(e.data.msg)})).catch((function(e){t.$toast.clear()}))}},logout:function(){localStorage.removeItem("__Tk"),this.$router.push({name:"Login"})},destroy:function(){var t=this;this.$dialog.confirm({title:"注销账号",message:"一旦注销，数据无法恢复"}).then((function(){var e=localStorage.getItem("__Tk");t.$toast.loading({message:"加载中...",forbidClick:!0,duration:0}),t.axios({method:"POST",url:"http://www.kangliuyong.com:10002/destroyAccount",data:{appkey:"U2FsdGVkX19WSQ59Cg+Fj9jNZPxRC5y0xB1iV06BeNA=",tokenString:e}}).then((function(e){t.$toast.clear(),"G001"==e.data.code?(localStorage.removeItem("__Tk"),t.$router.push({name:"Login"})):t.$toast(e.data.msg)})).catch((function(e){t.$toast.clear()}))})).catch((function(t){}))},back:function(){this.$router.go(-1)}}},l=s,c=n("9ca4"),u=Object(c["a"])(l,a,r,!1,null,null,null);e["default"]=u.exports},"80f1":function(t,e,n){},"8a1c":function(t,e,n){var a=n("a719"),r=n("2118"),i=n("90fb"),o=i("match");t.exports=function(t){var e;return a(t)&&(void 0!==(e=t[o])?!!e:"RegExp"==r(t))}},"99ad":function(t,e,n){"use strict";var a=n("857c");t.exports=function(){var t=a(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},b2a2:function(t,e,n){"use strict";n("e35a");var a=n("1944"),r=n("efe2"),i=n("90fb"),o=n("5139"),s=n("0fc1"),l=i("species"),c=!r((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),u=function(){return"$0"==="a".replace(/./,"$0")}(),d=i("replace"),f=function(){return!!/./[d]&&""===/./[d]("a","$0")}(),g=!r((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}));t.exports=function(t,e,n,d){var p=i(t),v=!r((function(){var e={};return e[p]=function(){return 7},7!=""[t](e)})),h=v&&!r((function(){var e=!1,n=/a/;return"split"===t&&(n={},n.constructor={},n.constructor[l]=function(){return n},n.flags="",n[p]=/./[p]),n.exec=function(){return e=!0,null},n[p](""),!e}));if(!v||!h||"replace"===t&&(!c||!u||f)||"split"===t&&!g){var m=/./[p],x=n(p,""[t],(function(t,e,n,a,r){return e.exec===o?v&&!r?{done:!0,value:m.call(e,n,a)}:{done:!0,value:t.call(n,e,a)}:{done:!1}}),{REPLACE_KEEPS_$0:u,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:f}),w=x[0],k=x[1];a(String.prototype,t,w),a(RegExp.prototype,p,2==e?function(t,e){return k.call(t,this,e)}:function(t){return k.call(t,this)})}d&&s(RegExp.prototype[p],"sham",!0)}},e35a:function(t,e,n){"use strict";var a=n("1c8b"),r=n("5139");a({target:"RegExp",proto:!0,forced:/./.exec!==r},{exec:r})},e3a8:function(t,e,n){"use strict";n("a74e");var a=n("e10d");function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function o(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}var s=function(){function t(){r(this,t),this.validUserFormReg={nickName:{reg:/^[\u4e00-\u9fa5\w]{1,10}$/,msg:"昵称格式不正确"},phone:{reg:/^1[3-9]\d{9}$/,msg:"手机号格式不正确"},password:{reg:/^(?![0-9]+$)(?![a-zA-Z]+$)[0-9A-Za-z]{6,16}$/,msg:"密码必须包含字母"},oldPassword:{reg:/^(?![0-9]+$)(?![a-zA-Z]+$)[0-9A-Za-z]{6,16}$/,msg:"旧密码格式不正确"},email:{reg:/^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/,msg:"邮箱格式不正确"},code:{reg:/^\d{6}$/,msg:"验证格式正确"}}}return o(t,[{key:"validUserForm",value:function(t){for(var e in t)if(!this.validUserFormReg[e].reg.test(t[e]))return Object(a["a"])(this.validUserFormReg[e].msg),!1;return!0}}]),t}();e["a"]=new s},f62c:function(t,e,n){var a=n("3da3"),r=n("2732"),i=function(t){return function(e,n){var i,o,s=String(r(e)),l=a(n),c=s.length;return l<0||l>=c?t?"":void 0:(i=s.charCodeAt(l),i<55296||i>56319||l+1===c||(o=s.charCodeAt(l+1))<56320||o>57343?t?s.charAt(l):i:t?s.slice(l,l+2):o-56320+(i-55296<<10)+65536)}};t.exports={codeAt:i(!1),charAt:i(!0)}}}]);
//# sourceMappingURL=chunk-d0ee9b1e.958f5b5c.js.map